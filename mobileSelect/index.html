<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>Title</title>
    <link rel="stylesheet" href="css/public.css">
    <link rel="stylesheet" href="css/mobileSelect.css">
    <style>
        .btn {
            display: inline-block;
            width: 30.33%;
            margin:15px 1.5%;
            height: 40px;
            line-height:40px;
            color: #ff5658;
            border:1px solid #ff5658;
            border-radius: 4px;
            text-align: center;
        }
        div .btn {
            float: left;
        }
    </style>

</head>
<body>
    <div>
        <a href="javascript:;" class="btn" id="lev1">一级</a>
        <a href="javascript:;" class="btn" id="lev2">二级</a>
        <a href="javascript:;" class="btn" id="lev3">三级</a>
    </div>
    <script src="plugins/mobileSelect.js"></script>
    <script src="plugins/createSelect.js"></script>
    <script src="js/dataConfig.js"></script>
    <script>
        var lev1 = createSelect({
            selector: '#lev1',
            title: '一级',
            data: zoneList,
            transitionEnd:function(indexArr, data){

            },
            callback:function(indexArr, data){
                console.log(11111);
                console.log(data[0]);
                var subList = data[0].subList;
                lev2.updateWheel(0, subList);
            }
        });
        var lev2 = createSelect({
            selector: '#lev2',
            title: '二级',
//            data: [{value:''}],
            initIdx: '',
            transitionEnd:function(indexArr, data){
            },
            callback:function(indexArr, data){
                console.log(data);
                var subList = data[0].subList;
                console.log(2222);
                console.log(subList);
                lev3.updateWheel(0, subList);
            }
        });
        var lev3 = createSelect({
            selector: '#lev3',
            title: '三级',
//            data: [{value:''}],
            transitionEnd:function(indexArr, data){
            },
            callback:function(indexArr, data){
                console.log(data[0]);
            }
        });
        function createSelect(opt) {
            var mobileSelect = new MobileSelect({
                trigger: opt.selector,
                title: opt.title,
                wheels: [
                    {data: opt.data?opt.data:[{value:''}]}
                ],
                position:[opt.initIdx?opt.initIdx:0], //初始化定位 打开时默认选中的哪个 如果不填默认为0
                transitionEnd:function(indexArr, data){
                    opt.transitionEnd(indexArr[0],data)
                },
                callback:function(indexArr, data){
                    opt.callback(indexArr[0],data)
                }
            });
            return mobileSelect;
        }
    </script>
</body>
</html>